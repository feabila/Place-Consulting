{"version":3,"sources":["consulting.js"],"names":[],"mappings":"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","file":"consulting.min.js","sourcesContent":["// Pulling ZIP Code input from the user\r\nfunction Info(zip, button, table){\r\n    this.zip= document.querySelector(zip);\r\n    this.button= document.querySelectorAll(button);\r\n    this.table= document.querySelector(table);\r\n    let input= this.zip;\r\n    window.onload= function(){\r\n        document.querySelector(zip).focus();\r\n    };\r\n    input.addEventListener('input', function(){ // There's no way of MAXLENGTH in html number input element, so it's needed to it ONINPUT action\r\n        if(input.value.length >8){\r\n            input.value= input.value.slice(0,8); \r\n        }\r\n    }, false);\r\n}\r\n\r\nInfo.prototype.on= function on(event, execution){      \r\n    Array.prototype.forEach.call(this.button, function(item){\r\n        item.addEventListener(event, execution, false);\r\n    });    \r\n};\r\nInfo.prototype.getCode= function getCode(){\r\n    return this.zip;\r\n};\r\nInfo.prototype.getTable= function getTable(){\r\n    return this.table;\r\n};\r\nInfo.prototype.getDataCep= function getDataCep(){\r\n    let cep= new XMLHttpRequest();\r\n    let table= this.getTable();\r\n    cep.open('GET', 'https://viacep.com.br/ws/'+this.getCode().value+'/json/');\r\n    cep.onreadystatechange= function(){\r\n        if(cep.readyState === 4 && cep.status === 200){\r\n            const data= JSON.parse(cep.responseText);\r\n            setDataCep(data, table);\r\n            return true;\r\n        }\r\n        if(cep.status === 0){\r\n            throw Error('CEP invalid');\r\n        }\r\n    };\r\n    cep.send();\r\n    this.getCode().value= '';    \r\n};\r\n\r\nInfo.prototype.getDataZip= function getDataZip(){\r\n    const zip= new XMLHttpRequest();\r\n    let table= this.getTable();\r\n    zip.open('GET', 'http://api.zippopotam.us/us/'+this.getCode().value);\r\n    zip.onreadystatechange= function(){\r\n        if(zip.readyState === 4 && zip.status === 200){\r\n            const data= JSON.parse(zip.responseText);\r\n            setDataZip(data, table);\r\n            return true;\r\n        }\r\n        if(zip.status === 0){\r\n            throw Error('ZIP Code invalid');\r\n        }\r\n    };\r\n    zip.send();\r\n    this.getCode().value= '';    \r\n};\r\n\r\nfunction setDataZip(data, table){\r\n    let tbody= document.querySelector('[data-id=\"tbody-zip\"]');\r\n    let line= document.createElement('tr');\r\n    let zipType= document.createElement('th');\r\n    zipType.setAttribute('scope', 'row');\r\n    zipType.textContent= 'ZIP';\r\n    let zipCode= document.createElement('td');\r\n    zipCode.textContent= data['post code'];\r\n    let zipAddress= document.createElement('td');\r\n    zipAddress.textContent= 'No Address Information';\r\n    let zipNeighborhood= document.createElement('td');\r\n    zipNeighborhood.textContent= data.places[0]['place name'];\r\n    let zipState = document.createElement('td');\r\n    zipState .textContent= data.places[0]['state'];\r\n    \r\n    line.innerHTML+= zipType.outerHTML + zipCode.outerHTML + zipAddress.outerHTML + zipNeighborhood.outerHTML + zipState .outerHTML;\r\n    tbody.appendChild(line);\r\n    table.appendChild(tbody);\r\n}\r\nfunction setDataCep(data, table){\r\n    let tbody= document.querySelector('[data-id=\"tbody-zip\"]');\r\n    let line= document.createElement('tr');\r\n    let cepType= document.createElement('th');\r\n    cepType.setAttribute('scope', 'row');\r\n    cepType.textContent= 'CEP';\r\n    let cepCode= document.createElement('td');\r\n    cepCode.textContent= data.cep;\r\n    let cepAddress= document.createElement('td');\r\n    cepAddress.textContent= data.logradouro;\r\n    let cepNeighborhood= document.createElement('td');\r\n    cepNeighborhood.textContent= data.bairro;\r\n    let cepState= document.createElement('td');\r\n    cepState.textContent= data.localidade;\r\n        line.innerHTML+= cepType.outerHTML + cepCode.outerHTML + cepAddress.outerHTML + cepNeighborhood.outerHTML + cepState.outerHTML;\r\n    tbody.appendChild(line);\r\n    table.appendChild(tbody);\r\n}\r\n\r\nlet user= new Info('[data-id=\"zip\"]', '[data-id=\"consult-zip\"]', '[data-id=\"table-zip\"]');\r\nuser.on('click', function(event){\r\n    event.preventDefault();\r\n    let input= user.getCode().value;\r\n    if(input.length === 5){\r\n        user.getDataZip();\r\n    }\r\n    if(input.length === 8){\r\n        user.getDataCep();\r\n    }\r\n});"]}